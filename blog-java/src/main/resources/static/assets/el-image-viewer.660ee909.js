import{q as $e,s as ue,u as Le,x as H,y as ce,z as D,B as K,C as P,D as xe,G as b,H as fe,I as te,J as Te,o as E,i as ne,w as L,K as G,L as w,M as e,N as ae,O as we,P as de,Q as me,R as he,S as Ne,U as Oe,V as _e,W as Se,X as N,Y as ze,Z as Re,$ as ge,a0 as Ie,a1 as Ee,g as h,h as $,a2 as Ae,k as O,d as V,a3 as Me,f as F,F as ye,a4 as Be,a5 as je,a6 as Ve,a7 as De,a8 as Fe,a9 as Pe,l as We,m as Xe,v as Ye,T as He,aa as Ke,ab as q,ac as U,ad as Ze,ae as Ue,af as qe,ag as Ge,ah as Je,ai as Qe,aj as et,t as tt,ak as nt,al as at}from"./index.de08f477.js";var st=/\s/;function lt(t){for(var a=t.length;a--&&st.test(t.charAt(a)););return a}var rt=/^\s+/;function ot(t){return t&&t.slice(0,lt(t)+1).replace(rt,"")}var be=0/0,it=/^[-+]0x[0-9a-f]+$/i,ut=/^0b[01]+$/i,ct=/^0o[0-7]+$/i,ft=parseInt;function ke(t){if(typeof t=="number")return t;if($e(t))return be;if(ue(t)){var a=typeof t.valueOf=="function"?t.valueOf():t;t=ue(a)?a+"":a}if(typeof t!="string")return t===0?t:+t;t=ot(t);var l=ut.test(t);return l||ct.test(t)?ft(t.slice(2),l?2:8):it.test(t)?be:+t}var dt=function(){return Le.Date.now()};const ve=dt;var mt="Expected a function",vt=Math.max,pt=Math.min;function gt(t,a,l){var r,v,f,d,o,I,i=0,y=!1,k=!1,_=!0;if(typeof t!="function")throw new TypeError(mt);a=ke(a)||0,ue(l)&&(y=!!l.leading,k="maxWait"in l,f=k?vt(ke(l.maxWait)||0,a):f,_="trailing"in l?!!l.trailing:_);function p(c){var C=r,z=v;return r=v=void 0,i=c,d=t.apply(z,C),d}function M(c){return i=c,o=setTimeout(S,a),y?p(c):d}function g(c){var C=c-I,z=c-i,Y=a-C;return k?pt(Y,f-z):Y}function B(c){var C=c-I,z=c-i;return I===void 0||C>=a||C<0||k&&z>=f}function S(){var c=ve();if(B(c))return W(c);o=setTimeout(S,g(c))}function W(c){return o=void 0,_&&r?p(c):(r=v=void 0,d)}function X(){o!==void 0&&clearTimeout(o),i=0,r=I=v=o=void 0}function J(){return o===void 0?d:W(ve())}function j(){var c=ve(),C=B(c);if(r=arguments,v=this,I=c,C){if(o===void 0)return M(I);if(k)return clearTimeout(o),o=setTimeout(S,a),p(I)}return o===void 0&&(o=setTimeout(S,a)),d}return j.cancel=X,j.flush=J,j}var yt="Expected a function";function pe(t,a,l){var r=!0,v=!0;if(typeof t!="function")throw new TypeError(yt);return ue(l)&&(r="leading"in l?!!l.leading:r,v="trailing"in l?!!l.trailing:v),gt(t,a,{leading:r,maxWait:a,trailing:v})}const wt=(t,a)=>{if(!H||!t||!a)return!1;const l=t.getBoundingClientRect();let r;return a instanceof Element?r=a.getBoundingClientRect():r={top:0,right:window.innerWidth,bottom:window.innerHeight,left:0},l.top<r.bottom&&l.bottom>r.top&&l.right>r.left&&l.left<r.right},ht=()=>H&&/firefox/i.test(window.navigator.userAgent),Ce=Symbol("rowContextKey"),bt=ce({tag:{type:String,default:"div"},span:{type:Number,default:24},offset:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},xs:{type:D([Number,Object]),default:()=>K({})},sm:{type:D([Number,Object]),default:()=>K({})},md:{type:D([Number,Object]),default:()=>K({})},lg:{type:D([Number,Object]),default:()=>K({})},xl:{type:D([Number,Object]),default:()=>K({})}}),kt=P({name:"ElCol"}),_t=P({...kt,props:bt,setup(t){const a=t,{gutter:l}=xe(Ce,{gutter:b(()=>0)}),r=fe("col"),v=b(()=>{const d={};return l.value&&(d.paddingLeft=d.paddingRight=`${l.value/2}px`),d}),f=b(()=>{const d=[];return["span","offset","pull","push"].forEach(i=>{const y=a[i];te(y)&&(i==="span"?d.push(r.b(`${a[i]}`)):y>0&&d.push(r.b(`${i}-${a[i]}`)))}),["xs","sm","md","lg","xl"].forEach(i=>{te(a[i])?d.push(r.b(`${i}-${a[i]}`)):Te(a[i])&&Object.entries(a[i]).forEach(([y,k])=>{d.push(y!=="span"?r.b(`${i}-${y}-${k}`):r.b(`${i}-${k}`))})}),l.value&&d.push(r.is("guttered")),d});return(d,o)=>(E(),ne(we(d.tag),{class:w([e(r).b(),e(f)]),style:ae(e(v))},{default:L(()=>[G(d.$slots,"default")]),_:3},8,["class","style"]))}});var It=de(_t,[["__file","/home/runner/work/element-plus/element-plus/packages/components/col/src/col.vue"]]);const Yt=me(It),Et=ce({urlList:{type:D(Array),default:()=>K([])},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},hideOnClickModal:{type:Boolean,default:!1},teleported:{type:Boolean,default:!1},closeOnPressEscape:{type:Boolean,default:!0}}),Ct={close:()=>!0,switch:t=>te(t)},$t=["src"],Lt=P({name:"ElImageViewer"}),xt=P({...Lt,props:Et,emits:Ct,setup(t,{expose:a,emit:l}){const r=t,v={CONTAIN:{name:"contain",icon:he(Ne)},ORIGINAL:{name:"original",icon:he(Oe)}},f=ht()?"DOMMouseScroll":"mousewheel",{t:d}=_e(),o=fe("image-viewer"),{nextZIndex:I}=Se(),i=N(),y=N([]),k=ze(),_=N(!0),p=N(r.initialIndex),M=Re(v.CONTAIN),g=N({scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}),B=b(()=>{const{urlList:n}=r;return n.length<=1}),S=b(()=>p.value===0),W=b(()=>p.value===r.urlList.length-1),X=b(()=>r.urlList[p.value]),J=b(()=>{const{scale:n,deg:u,offsetX:m,offsetY:x,enableTransition:R}=g.value;let T=m/n,A=x/n;switch(u%360){case 90:case-270:[T,A]=[A,-T];break;case 180:case-180:[T,A]=[-T,-A];break;case 270:case-90:[T,A]=[-A,T];break}const Z={transform:`scale(${n}) rotate(${u}deg) translate(${T}px, ${A}px)`,transition:R?"transform .3s":""};return M.value.name===v.CONTAIN.name&&(Z.maxWidth=Z.maxHeight="100%"),Z}),j=b(()=>te(r.zIndex)?r.zIndex:I());function c(){z(),l("close")}function C(){const n=pe(m=>{switch(m.code){case U.esc:r.closeOnPressEscape&&c();break;case U.space:re();break;case U.left:oe();break;case U.up:s("zoomIn");break;case U.right:ie();break;case U.down:s("zoomOut");break}}),u=pe(m=>{(m.wheelDelta?m.wheelDelta:-m.detail)>0?s("zoomIn",{zoomRate:1.2,enableTransition:!1}):s("zoomOut",{zoomRate:1.2,enableTransition:!1})});k.run(()=>{q(document,"keydown",n),q(document,f,u)})}function z(){k.stop()}function Y(){_.value=!1}function se(n){_.value=!1,n.target.alt=d("el.image.error")}function le(n){if(_.value||n.button!==0||!i.value)return;g.value.enableTransition=!1;const{offsetX:u,offsetY:m}=g.value,x=n.pageX,R=n.pageY,T=pe(Z=>{g.value={...g.value,offsetX:u+Z.pageX-x,offsetY:m+Z.pageY-R}}),A=q(document,"mousemove",T);q(document,"mouseup",()=>{A()}),n.preventDefault()}function Q(){g.value={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}function re(){if(_.value)return;const n=Ze(v),u=Object.values(v),m=M.value.name,R=(u.findIndex(T=>T.name===m)+1)%n.length;M.value=v[n[R]],Q()}function ee(n){const u=r.urlList.length;p.value=(n+u)%u}function oe(){S.value&&!r.infinite||ee(p.value-1)}function ie(){W.value&&!r.infinite||ee(p.value+1)}function s(n,u={}){if(_.value)return;const{zoomRate:m,rotateDeg:x,enableTransition:R}={zoomRate:1.4,rotateDeg:90,enableTransition:!0,...u};switch(n){case"zoomOut":g.value.scale>.2&&(g.value.scale=Number.parseFloat((g.value.scale/m).toFixed(3)));break;case"zoomIn":g.value.scale<7&&(g.value.scale=Number.parseFloat((g.value.scale*m).toFixed(3)));break;case"clockwise":g.value.deg+=x;break;case"anticlockwise":g.value.deg-=x;break}g.value.enableTransition=R}return ge(X,()=>{Ie(()=>{const n=y.value[0];n!=null&&n.complete||(_.value=!0)})}),ge(p,n=>{Q(),l("switch",n)}),Ee(()=>{var n,u;C(),(u=(n=i.value)==null?void 0:n.focus)==null||u.call(n)}),a({setActiveItem:ee}),(n,u)=>(E(),ne(Ke,{to:"body",disabled:!n.teleported},[h(He,{name:"viewer-fade",appear:""},{default:L(()=>[$("div",{ref_key:"wrapper",ref:i,tabindex:-1,class:w(e(o).e("wrapper")),style:ae({zIndex:e(j)})},[$("div",{class:w(e(o).e("mask")),onClick:u[0]||(u[0]=Ae(m=>n.hideOnClickModal&&c(),["self"]))},null,2),O(" CLOSE "),$("span",{class:w([e(o).e("btn"),e(o).e("close")]),onClick:c},[h(e(V),null,{default:L(()=>[h(e(Me))]),_:1})],2),O(" ARROW "),e(B)?O("v-if",!0):(E(),F(ye,{key:0},[$("span",{class:w([e(o).e("btn"),e(o).e("prev"),e(o).is("disabled",!n.infinite&&e(S))]),onClick:oe},[h(e(V),null,{default:L(()=>[h(e(Be))]),_:1})],2),$("span",{class:w([e(o).e("btn"),e(o).e("next"),e(o).is("disabled",!n.infinite&&e(W))]),onClick:ie},[h(e(V),null,{default:L(()=>[h(e(je))]),_:1})],2)],64)),O(" ACTIONS "),$("div",{class:w([e(o).e("btn"),e(o).e("actions")])},[$("div",{class:w(e(o).e("actions__inner"))},[h(e(V),{onClick:u[1]||(u[1]=m=>s("zoomOut"))},{default:L(()=>[h(e(Ve))]),_:1}),h(e(V),{onClick:u[2]||(u[2]=m=>s("zoomIn"))},{default:L(()=>[h(e(De))]),_:1}),$("i",{class:w(e(o).e("actions__divider"))},null,2),h(e(V),{onClick:re},{default:L(()=>[(E(),ne(we(e(M).icon)))]),_:1}),$("i",{class:w(e(o).e("actions__divider"))},null,2),h(e(V),{onClick:u[3]||(u[3]=m=>s("anticlockwise"))},{default:L(()=>[h(e(Fe))]),_:1}),h(e(V),{onClick:u[4]||(u[4]=m=>s("clockwise"))},{default:L(()=>[h(e(Pe))]),_:1})],2)],2),O(" CANVAS "),$("div",{class:w(e(o).e("canvas"))},[(E(!0),F(ye,null,We(n.urlList,(m,x)=>Xe((E(),F("img",{ref_for:!0,ref:R=>y.value[x]=R,key:m,src:m,style:ae(e(J)),class:w(e(o).e("img")),onLoad:Y,onError:se,onMousedown:le},null,46,$t)),[[Ye,x===p.value]])),128))],2),G(n.$slots,"default")],6)]),_:3})],8,["disabled"]))}});var Tt=de(xt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/image-viewer/src/image-viewer.vue"]]);const Nt=me(Tt),Ot=ce({hideOnClickModal:{type:Boolean,default:!1},src:{type:String,default:""},fit:{type:String,values:["","contain","cover","fill","none","scale-down"],default:""},loading:{type:String,values:["eager","lazy"]},lazy:{type:Boolean,default:!1},scrollContainer:{type:D([String,Object])},previewSrcList:{type:D(Array),default:()=>K([])},previewTeleported:{type:Boolean,default:!1},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0}}),St={load:t=>t instanceof Event,error:t=>t instanceof Event,switch:t=>te(t),close:()=>!0,show:()=>!0},zt=["src","loading"],Rt={key:0},At=P({name:"ElImage",inheritAttrs:!1}),Mt=P({...At,props:Ot,emits:St,setup(t,{emit:a}){const l=t;let r="";const{t:v}=_e(),f=fe("image"),d=Ue(),o=qe(),I=N(),i=N(!1),y=N(!0),k=N(!1),_=N(),p=N(),M=H&&"loading"in HTMLImageElement.prototype;let g,B;const S=b(()=>d.style),W=b(()=>{const{fit:s}=l;return H&&s?{objectFit:s}:{}}),X=b(()=>{const{previewSrcList:s}=l;return Array.isArray(s)&&s.length>0}),J=b(()=>{const{previewSrcList:s,initialIndex:n}=l;let u=n;return n>s.length-1&&(u=0),u}),j=b(()=>l.loading==="eager"?!1:!M&&l.loading==="lazy"||l.lazy),c=()=>{!H||(y.value=!0,i.value=!1,I.value=l.src)};function C(s){y.value=!1,i.value=!1,a("load",s)}function z(s){y.value=!1,i.value=!0,a("error",s)}function Y(){wt(_.value,p.value)&&(c(),Q())}const se=nt(Y,200);async function le(){var s;if(!H)return;await Ie();const{scrollContainer:n}=l;Je(n)?p.value=n:Qe(n)&&n!==""?p.value=(s=document.querySelector(n))!=null?s:void 0:_.value&&(p.value=et(_.value)),p.value&&(g=q(p,"scroll",se),setTimeout(()=>Y(),100))}function Q(){!H||!p.value||!se||(g==null||g(),p.value=void 0)}function re(s){if(!!s.ctrlKey){if(s.deltaY<0)return s.preventDefault(),!1;if(s.deltaY>0)return s.preventDefault(),!1}}function ee(){!X.value||(B=q("wheel",re,{passive:!1}),r=document.body.style.overflow,document.body.style.overflow="hidden",k.value=!0,a("show"))}function oe(){B==null||B(),document.body.style.overflow=r,k.value=!1,a("close")}function ie(s){a("switch",s)}return ge(()=>l.src,()=>{j.value?(y.value=!0,i.value=!1,Q(),le()):c()}),Ee(()=>{j.value?le():c()}),(s,n)=>(E(),F("div",{ref_key:"container",ref:_,class:w([e(f).b(),s.$attrs.class]),style:ae(e(S))},[I.value!==void 0&&!i.value?(E(),F("img",Ge({key:0},e(o),{src:I.value,loading:s.loading,style:e(W),class:[e(f).e("inner"),e(X)&&e(f).e("preview"),y.value&&e(f).is("loading")],onClick:ee,onLoad:C,onError:z}),null,16,zt)):O("v-if",!0),y.value||i.value?(E(),F("div",{key:1,class:w(e(f).e("wrapper"))},[y.value?G(s.$slots,"placeholder",{key:0},()=>[$("div",{class:w(e(f).e("placeholder"))},null,2)]):i.value?G(s.$slots,"error",{key:1},()=>[$("div",{class:w(e(f).e("error"))},tt(e(v)("el.image.error")),3)]):O("v-if",!0)],2)):O("v-if",!0),e(X)?(E(),F(ye,{key:2},[k.value?(E(),ne(e(Nt),{key:0,"z-index":s.zIndex,"initial-index":e(J),infinite:s.infinite,"url-list":s.previewSrcList,"hide-on-click-modal":s.hideOnClickModal,teleported:s.previewTeleported,"close-on-press-escape":s.closeOnPressEscape,onClose:oe,onSwitch:ie},{default:L(()=>[s.$slots.viewer?(E(),F("div",Rt,[G(s.$slots,"viewer")])):O("v-if",!0)]),_:3},8,["z-index","initial-index","infinite","url-list","hide-on-click-modal","teleported","close-on-press-escape"])):O("v-if",!0)],64)):O("v-if",!0)],6))}});var Bt=de(Mt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/image/src/image.vue"]]);const Ht=me(Bt),jt=["start","center","end","space-around","space-between","space-evenly"],Vt=["top","middle","bottom"],Dt=ce({tag:{type:String,default:"div"},gutter:{type:Number,default:0},justify:{type:String,values:jt,default:"start"},align:{type:String,values:Vt,default:"top"}}),Ft=P({name:"ElRow"}),Pt=P({...Ft,props:Dt,setup(t){const a=t,l=fe("row"),r=b(()=>a.gutter);at(Ce,{gutter:r});const v=b(()=>{const f={};return a.gutter&&(f.marginRight=f.marginLeft=`-${a.gutter/2}px`),f});return(f,d)=>(E(),ne(we(f.tag),{class:w([e(l).b(),e(l).is(`justify-${a.justify}`,f.justify!=="start"),e(l).is(`align-${a.align}`,f.align!=="top")]),style:ae(e(v))},{default:L(()=>[G(f.$slots,"default")]),_:3},8,["class","style"]))}});var Wt=de(Pt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/row/src/row.vue"]]);const Kt=me(Wt);export{Ht as E,Yt as a,Kt as b,gt as d};
